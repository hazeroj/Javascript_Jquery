<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미에로화이버 반응형웹</title>
    <!-- 초기화 -->
    <link href="./css/reset.css" rel="stylesheet" type="text/css">
    <!-- 공통서식(글꼴,크기,색상,링크) -->
    <link href="./css/base.css" rel="stylesheet" type="text/css">
    <!-- pc화면 해상도일 때 적용되는 서식 -->
    <link href="./css/pc.css" rel="stylesheet" type="text/css">
    <!-- tablet화면 해상도일 때 적용되는 서식 -->
    <link href="./css/tablet.css" rel="stylesheet" type="text/css">
    <!-- mobile화면 해상도일 때 적용되는 서식 -->
    <link href="./css/mobile.css" rel="stylesheet" type="text/css">
    <!-- 아이콘폰트 주소 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" type="text/css">


</head>

<body>
    <!-- 헤더영역시작 -->
    <header>
        <h1><a href="index.html" title="메인페이지로바로가기"><img src="./images/logo2.png" alt="상단로고"></a></h1>

        <!-- 모바일 버전에서 나오는 토글버튼(햄버거) 미리 만든다. -->
        <div id="toggle">
            <span>&nbsp;</span>
            <span>&nbsp;</span>
            <span>&nbsp;</span>
        </div>

        <!-- 메인메뉴 내비게이션 -->
        <nav class="gnb">
            <ul>
                <li><a href="#" title="미에로">미에로<i class="fas fa-angle-down"></i></a>
                    <ul class="sub">
                        <li><a href="#" title="브랜드스토리">브랜드 스토리</a></li>
                        <li><a href="#" title="식이섬유스토리">식이섬유 스토리</a></li>
                    </ul>
                </li>
                <li><a href="#" title="제품소개">제품소개<i class="fas fa-angle-down"></i></a>
                    <ul class="sub">
                        <li><a href="#" title="미에로화이버">미에로화이버</a></li>
                        <li><a href="#" title="미에로화이버 SPARKLING ZERO">미에로화이버 SPARKLING ZERO</a></li>
                        <li><a href="#" title="헬씨올리고">헬씨올리고</a></li>
                        <li><a href="#" title="헬씨올리고 프로바이오틱스">헬씨올리고 프로바이오틱스</a></li>
                    </ul>
                </li>
                <li><a href="#" title="미에로스토리">미에로스토리<i class="fas fa-angle-down"></i></a>
                    <ul class="sub">
                        <li><a href="#" title="TV광고">TV광고</a></li>
                        <li><a href="#" title="인쇄광고">인쇄광고</a></li>
                        <li><a href="#" title="프로모션">프로모션</a></li>
                    </ul>
                </li>
                <li><a href="#" title="미에로이벤트">미에로이벤트<i class="fas fa-angle-down"></i></a>
                    <ul class="sub">
                        <li><a href="#" title="진행중인 이벤트">진행중인 이벤트</a></li>
                        <li><a href="#" title="당첨자발표">당첨자발표</a></li>
                    </ul>
                </li>
                <li><a href="#" title="공지사항">공지사항</a></li>
            </ul>
        </nav>
    </header>

    <!-- 메인영역시작 -->
    <main>
        <article class="visual">
            <h2>메인슬라이드</h2>
            <div class="slide1">
                <span>이제 짜릿하게 즐기자! <br>
                    미에로화이바 스파클링 제로</span>
                <img src="./images/visual01.jpg" alt="">
            </div>
            <div class="slide2">
                <span>마시는 식이섬유 <br>
                    미에로화이바</span>
                <img src="./images/visual03.jpg" alt="">
            </div>
            <div class="slide3">
                <img src="./images/visual02.jpg" alt="">
            </div>

            <!-- 공통 ul구성요소 sns 콘트롤버튼 좌우버튼 -->
            <!-- sns 아이콘 -->
            <ul class="sns">
                <li><a href="#" title="facebook"><i class="fab fa-facebook-f"></i></a></li>
                <li><a href="#" title="instagram"><i class="fab fa-instagram"></i></a></li>
                <li><a href="#" title="youtube"><i class="fab fa-youtube"></i></a></li>
            </ul>

            <!-- 좌우버튼 -->
            <ul class="s_btn">
                <li><img src="./images/left.png" alt="이전버튼"></li>
                <li><img src="./images/right.png" alt="다음버튼"></li>
            </ul>

            <!-- 콘트롤버튼 -->
            <ul class="ctrl_btn">
                <li class="on">&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
            </ul>
        </article>

        <!-- 2. 뉴스컨텐츠 -->
        <section class="news_con">
            <article></article>
            <article></article>
        </section>

        <!-- 3. 탭콘텐츠 -->
        <section class="tab_con">
            <article></article>
        </section>

        <!-- 4. 인기제품 -->
        <section class="best_product">
            <article></article>
        </section>

        <!-- 5. 이벤트 1170*256 img-746*256-->
        <section class="event">
            <h2>미에로화이바 EVENT</h2>
            <article class="e_slide">
                <div class="es_wrap">
                    <div><a href="#" title=""><img src="./images/event01.png" alt="">
                            <div class="e_txt">
                                <span>종료</span>
                                <h3>[미에로화이바 스파클링 제로 케미 이…</h3>
                                <p>2023.05.09 ~ 2023.05.15</p>
                            </div>
                        </a>
                    </div>
                    <div><a href="#" title=""><img src="./images/event02.png" alt="">
                            <div class="e_txt">
                                <span>종료</span>
                                <h3>[미에로화이바 이모지 이벤트]</h3>
                                <p>2023.04.18 ~ 2023.04.24</p>
                            </div>
                        </a>
                    </div>
                    <div><a href="#" title=""><img src="./images/event03.jpg" alt="">
                            <div class="e_txt">
                                <span>종료</span>
                                <h3>[미에로화이바 즐기는 법 이벤트]</h3>
                                <p>2023.03.09 ~ 2023.03.15</p>
                            </div>
                        </a>
                    </div>
                </div>
            </article>
            <i class="fas fa-angle-left"></i>
            <i class="fas fa-angle-right"></i>

        </section>

        <!-- 6. 스토리 갤러리 -->
        <section class="gallery">

            <article class="g_wrap">
                <div class="main">
                    <h2>미에로화이바 Girl 스토리</h2>
                    <ul class="miero">
                        <li><a href="#" title="1"><img src="./images/mcon5_1.jpg" alt="1"></a></li>
                        <li class="img"><a href="2" title=""><img src="./images/mcon5_7.jpg" alt="2" class="he"></a>
                        </li>
                        <li><a href="#" title="3"><img src="./images/mcon5_12.png" alt="3" class="dalgo"></a></li>
                        <li><a href="#" title="4"><img src="./images/mcon5_10.png" alt="4"></a></li>
                        <!-- <li>5</li> -->
                        <li><a href="#" title="5"><img src="./images/mcon5_13.png" alt="5" class="he"></a></li>
                        <li><a href="#" title="6"><img src="./images/mcon5_9.jpg" alt="6"></a></li>
                        <li><a href="#" title="7"><img src="./images/mcon5_11.png" alt="7"></a></li>
                        <li><a href="#" title="8"><img src="./images/mcon5_2.jpg" alt="8"></a></li>
                    </ul>
                </div>
            </article>
        </section>
    </main>

    <!-- 푸터영역시작 -->
    <footer>

    </footer>

    <!-- 제이쿼리 라이브러리 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
    <!-- 제이쿼리 -->
    <script>
        $(document).ready(function () {
            // 1. 변수선언
            const l_btn = $('.visual .s_btn li:first-child'); //좌측버튼
            const r_btn = $('.visual .s_btn li:last-child'); //우측버튼
            const c_btn = $('.visual .ctrl_btn li'); //콘트롤버튼

            let v_slide_img = $('.visual > div') //슬라이드 이미지
            let i = 0; //인덱스값은 0부터 시작

            // 2. 움직이는 함수 = 서서히 사라지고 나타나는 효과
            function fadeInOut() {
                // console.log('시간함수호출')
                v_slide_img.fadeOut() //보이는 이미지 숨기고
                //0번째 슬라이드 이미지, 인덱스번호

                $('.visual .ctrl_btn li').removeClass('on'); // 기존 콘트롤 버튼 서식 모두제거
                if (i == 2) { //만약에 마지막 이미지라면
                    i = 0; //처음 이미지가 보이게하고
                } else { //그렇지 않으면
                    i++; //다음 이미지가 보이도록 한다.
                }
                $('.visual .ctrl_btn li').eq(i).addClass('on'); //선택한 콘트롤 버튼 
                // stop을 넣어 애니메이션을 한번만 실행해줌, 좌우버튼을 누르면 멈춤
                v_slide_img.eq(i).stop().fadeIn(); //해당이미지가 보이게 한다.
            }

            function fadeInOut2() {
                v_slide_img.fadeOut();
                $('.visual .ctrl_btn li').removeClass('on'); // 기존 콘트롤 버튼 서식 모두제거
                if (i == 0) {
                    i = 2;
                } else {
                    i--;
                }
                $('.visual .ctrl_btn li').eq(i).addClass('on'); //선택한 콘트롤 버튼 

                v_slide_img.eq(i).stop().fadeIn()
            }
            // 3. 매 5초마다 함수를 반복호출하여 슬라이드가 변하게한다.
            let Timer = setInterval(fadeInOut, 5000);
            // setInterval 먼저실행 , setTimeOut은 나중실행

            // 좌우버튼클릭시 해당하는 방향으로 슬라이드 이미지가 나오게 하기

            l_btn.click(function () {
                fadeInOut2();
            })

            r_btn.click(function () {
                fadeInOut();
            })

            // 좌우버튼 마우스 오버시 시간을 제거하고 ,hover는 함수를 두개 넣을 수 잇다.
            $('.s_btn li').hover(function () {
                clearInterval(Timer);
            }, function () { //마우스 아웃시 시간을 생성한다.
                Timer = setInterval(fadeInOut, 5000);
            })

            //콘트롤 버튼
            // 1. 현재 이미지 번호를 체크
            // 2. 이미지 전체개수

            /*구현순서
            1. 콘트롤 버튼 변수 선언
            2. 콘트롤 버튼(li)클릭시 인덱스값 0,1,2값을 출력
            3. 인덱스 값을 fadeInOut함수의 매개변수값으로 넘김
            4. 사용자가 클릭한 콘트롤 버튼(li)에 act서식을 적용하여 어둡게 함*/

            c_btn.click(function () {

                // 인덱스번호확인하기
                let idx = $(this).index();
                console.log(idx); //0,1,2

                $('.visual .ctrl_btn li').removeClass('on'); // 기존 콘트롤 버튼 서식 모두제거

                v_slide_img.fadeOut()
                $('.visual .ctrl_btn li').eq(idx).addClass('on'); //선택한 콘트롤 버튼 
                v_slide_img.eq(idx).stop().fadeIn();

                i = idx // 원래 i값에 idx값을 일치시켜서 다음 순서가 제대로 나오게 해준다.

                clearInterval(Timer);

            });
            // 콘트롤 버튼에 마우스 오버시 시간을 제거하여 슬라이드 멈추게한다.
            c_btn.mouseenter(function () {
                Timer = clearInterval(Timer)
            })
            // 콘트롤 버튼에 마우스 아웃시 다시 자동으로 움직이도록 시간객체를 생성함
            c_btn.mouseleave(function () {
                Timer = setInterval(fadeInOut, 5000);
            })

            // 제이쿼리를 이용한 반응형웹만들기

            // 윈도우 창의 너비값 = $(window).width(//윈도우창의너비); or $(window).height();
            //$(window).innerWidth(); 안쪽 패딩값을 포함한 너비

            let w_width;
            w_width = $(window).innerWidth();
            console.log(w_width)

            // 브라우저의 크기가 변하면 함수내용을 실행한다.
            $(window).resize(function () {
                w_width = $(window).innerWidth();
                console.log(w_width)

                // pc버전 해상도일 경우 배경색 노랑
                if (w_width >= 1025) {
                    $('body').css('background', '#ff0');
                    $('header h1 img').attr('src', './images/logo2.png');

                } else if (w_width >= 768/*w_width>767&&w_width<=1024*/) {
                    $('body').css('background', '#0f0')

                    // attr();속성메서드
                    $('header h1 img').attr('src', './images/logo.png');
                } else {
                    $('body').css('background', '#ccc')
                    $('header h1 img').attr('src', './images/logo.png');

                }

            }).resize();


            // 이벤트서식

            const eslide = $('.es_wrap')
            const es_lbtn = $('.event>.fa-angle-left')
            const es_rbtn = $('.event>.fa-angle-right')

            // 1번 슬라이드의 앞에 3번 슬라이드를 배치한다.
            $('.es_wrap>div:last-child').insertBefore('.es_wrap>div:first-child')

            // 왼쪽으로 1200픽셀 이동하여 1번이 가운데 배치가 되게 한다.

            eslide.css('margin-left', '-1200px')

            // moveleft함수
            function moveLeft() {
                eslide.animate({ 'margin-left': '-2400px' }, 500, function () {
                    $('.es_wrap>div:first-child').insertAfter('.es_wrap>div:last-child')
                    eslide.css('margin-left', '-1200px')
                })
            }

            let Timer2 = setInterval(moveRight, 4000);

            // moveright함수
            function moveRight() {
                eslide.animate({ 'margin-left': '0px' }, 500, function () {
                    $('.es_wrap>div:last-child').insertBefore('.es_wrap>div:first-child')
                    eslide.css('margin-left', '-1200px')
                })
            }

            // 좌측버튼클릭시
            es_lbtn.click(function () {
                clearInterval(Timer2);
                moveLeft();
            })

            // 우측버튼클릭시
            es_rbtn.click(function () {
                clearInterval(Timer2);
                moveRight()
            })

            // 마우스 제거시 다시 움직임

            $('.es_slide i.fas').mouseleave(function () {
                Timer = setInterval(moveLeft, 4000)
            })
        });
    </script>
</body>

</html>